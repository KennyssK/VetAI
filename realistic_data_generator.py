import pandas as pd
import numpy as np

# Определяем все 33 признака, включая диагноз и вид животного
all_features = [
    'диагноз', 'апатия', 'кашель', 'лихорадка', 'отказ_от_еды', 'рвота',
    'сыпь', 'хромота', 'диарея', 'насморк', 'чихание', 'боль', 'зуд',
    'полиурия', 'полидипсия', 'вялость', 'тремор', 'судороги', 'анемия',
    'желтуха', 'кровь_в_моче', 'затрудненное_дыхание', 'потеря_веса',
    'отеки', 'увеличение_лимфоузлов', 'гематомы', 'кровотечения',
    'атаксия', 'сухость_глаз', 'облысение', 'одышка', 'кахексия',
    'вид_животного'
]

# Определяем список болезней и их характерные симптомы
disease_symptoms = {
    'чумка': ['лихорадка', 'рвота', 'диарея', 'кашель', 'насморк', 'чихание', 'вялость', 'тремор', 'судороги', 'потеря_веса'],
    'пироплазмоз': ['лихорадка', 'анемия', 'желтуха', 'вялость', 'полиурия', 'полидипсия', 'отказ_от_еды'],
    'отравление': ['рвота', 'диарея', 'вялость', 'тремор', 'судороги', 'боль', 'кровотечения'],
    'аллергия': ['сыпь', 'зуд', 'чихание', 'отеки', 'облысение'],
    'травма': ['хромота', 'боль', 'гематомы', 'отеки'],
    'сердечная_недостаточность': ['одышка', 'кашель', 'затрудненное_дыхание', 'вялость', 'отеки'],
    'чумка_кошек': ['лихорадка', 'рвота', 'диарея', 'насморк', 'чихание', 'вялость', 'потеря_веса']
}

# Определяем, какие болезни могут быть у собак, а какие у кошек
species_diseases = {
    'собака': ['чумка', 'пироплазмоз', 'отравление', 'аллергия', 'травма', 'сердечная_недостаточность'],
    'кошка': ['чумка_кошек', 'отравление', 'аллергия', 'травма', 'сердечная_недостаточность']
}

# Создаем пустой список для данных
data = []
num_records = 1000000

# Генерируем данные
for _ in range(num_records):
    # Случайно выбираем вид животного
    animal_species = np.random.choice(list(species_diseases.keys()))
    
    # Случайно выбираем диагноз, который подходит для этого вида
    diag = np.random.choice(species_diseases[animal_species])
    
    # Создаем словарь для новой записи, заполняя все симптомы нулями
    entry = {feature: 0 for feature in all_features if feature not in ['диагноз', 'вид_животного']}
    
    # Отмечаем характерные симптомы для выбранного диагноза
    for symptom in disease_symptoms[diag]:
        entry[symptom] = 1

    # Добавляем случайный шум, чтобы сделать данные более реалистичными
    for symptom in entry:
        if np.random.rand() < 0.1:  # Шанс 10% на ложный симптом
            entry[symptom] = 1 - entry[symptom]

    # Добавляем диагноз и вид животного
    entry['диагноз'] = diag
    entry['вид_животного'] = animal_species
    data.append(entry)

# Создаем DataFrame из сгенерированных данных и сохраняем в файл
df = pd.DataFrame(data)
df = df[all_features]  # Упорядочиваем колонки в соответствии с вашим списком
df.to_csv('extended_vet_data.csv', index=False)
print("Файл 'extended_vet_data.csv' успешно создан.")